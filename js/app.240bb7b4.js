(function(){"use strict";var t={858:function(t,n,e){var r=e(963),i=e(252),o=e(577);const l=["href"],s={key:0},a=["onClick"],c={key:1};function u(t,n,e,u,f,h){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=t=>f.id=t)},null,512),[[r.nr,f.id]])]),(0,i._)("div",null,[(0,i._)("button",{onClick:n[1]||(n[1]=(...t)=>h.fetchZip&&h.fetchZip(...t))},"Fetch")]),(0,i._)("div",null,[(0,i._)("a",{href:h.spreadsheetUrl,target:"_blank"},(0,o.zw)(h.spreadsheetUrl),9,l)]),f.files.length>0?((0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(f.files,((t,n)=>((0,i.wg)(),(0,i.iD)("li",{key:n},[(0,i._)("span",null,(0,o.zw)(t),1),(0,i._)("button",{onClick:n=>h.convertFile(t)},"Convert",8,a)])))),128))])])):(0,i.kq)("",!0),f.json.length>0?((0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("pre",null,[(0,i._)("code",null,(0,o.zw)(f.json),1)]),(0,i._)("button",{onClick:n[2]||(n[2]=(...t)=>h.downloadHandler&&h.downloadHandler(...t))},"Download")])):(0,i.kq)("",!0)],64)}var f=e(733),h=e.n(f),d=e(162),p=e.n(d);async function g(t){const n=`https://docs.google.com/spreadsheets/export?format=zip&id=${t}`,e=await fetch(n),r=await e.blob(),i=await h().loadAsync(r);return i}function v(t){const n=(new DOMParser).parseFromString(t,"text/html"),e=n.querySelectorAll("tbody > tr"),r=Array.from(e).map((t=>Array.from(t.querySelectorAll("td")).map((t=>t.innerHTML.replace(/<br>/g,"\n")))));return r}function w(t,n){return t.filter((t=>{const e=t[0].startsWith(n),r=t.every((t=>0===t.trim().length));return!e&&!r}))}function m(t,n){const e={},r=t[0];for(let o=1;o<r.length;o++){let i=r[o];const l=i.startsWith(n.ignoreSymbol);if(n.excludeLang&&l)continue;l&&(i=i.substring(n.ignoreSymbol.length).trim());const s={};for(let n=1;n<t.length;n++){const e=t[n][0];s[e]=t[n][o]}e[i]=s}const i=JSON.stringify(e,null,2);return i}class y{constructor(t){this.id=t,this.options={ignoreSymbol:"#",excludeLang:!0}}update(t){this.id=t}async fetchZip(){this.zip=await g(this.id)}getFiles(){return Object.values(this.zip.files).map((t=>t.name)).filter((t=>t.endsWith(".html"))).map((t=>t.replace(".html","")))}async fromFile(t){const n=await this.zip.file(t+".html").async("string"),e=w(v(n),this.options.ignoreSymbol),r=m(e,this.options);return r}saveFile(t){const n=new Blob([t],{type:"text/plain;charset=utf-8;"}),e=Date.now(),r=(e-e%1e3)/1e3,i=`thx for using - ${r}.json`;p().saveAs(n,i)}}var b={components:{},data(){return{id:"",localizer:new y,files:[],json:""}},watch:{id(t){this.localizer.update(t)}},created(){this.localizer.update(this.id)},mounted(){const t=new URLSearchParams(window.location.search);if(t.has("id")){const n=t.get("id");this.id=n}},methods:{async fetchZip(){await this.localizer.fetchZip(),this.files=this.localizer.getFiles()},async convertFile(t){this.json=await this.localizer.fromFile(t)},downloadHandler(){this.localizer.saveFile(this.json)}},computed:{spreadsheetUrl(){return`https://docs.google.com/spreadsheets/d/${this.id}`}}},_=e(744);const z=(0,_.Z)(b,[["render",u]]);var k=z;(0,r.ri)(k).mount("#app")}},n={};function e(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return t[r].call(o.exports,o,o.exports,e),o.exports}e.m=t,function(){var t=[];e.O=function(n,r,i,o){if(!r){var l=1/0;for(u=0;u<t.length;u++){r=t[u][0],i=t[u][1],o=t[u][2];for(var s=!0,a=0;a<r.length;a++)(!1&o||l>=o)&&Object.keys(e.O).every((function(t){return e.O[t](r[a])}))?r.splice(a--,1):(s=!1,o<l&&(l=o));if(s){t.splice(u--,1);var c=i();void 0!==c&&(n=c)}}return n}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[r,i,o]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={143:0};e.O.j=function(n){return 0===t[n]};var n=function(n,r){var i,o,l=r[0],s=r[1],a=r[2],c=0;if(l.some((function(n){return 0!==t[n]}))){for(i in s)e.o(s,i)&&(e.m[i]=s[i]);if(a)var u=a(e)}for(n&&n(r);c<l.length;c++)o=l[c],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return e.O(u)},r=self["webpackChunklocalizer_tool"]=self["webpackChunklocalizer_tool"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var r=e.O(void 0,[998],(function(){return e(858)}));r=e.O(r)})();
//# sourceMappingURL=app.240bb7b4.js.map