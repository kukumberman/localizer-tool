(function(){"use strict";var t={858:function(t,e,n){var r=n(963),o=n(252),i=n(577);const l=["href"],s={key:0},a=["onClick"],c={key:1};function u(t,e,n,u,f,h){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>f.id=t)},null,512),[[r.nr,f.id]])]),(0,o._)("div",null,[(0,o._)("button",{onClick:e[1]||(e[1]=(...t)=>h.fetchZip&&h.fetchZip(...t))},"Fetch")]),(0,o._)("div",null,[(0,o._)("a",{href:h.spreadsheetUrl,target:"_blank"},(0,i.zw)(h.spreadsheetUrl),9,l)]),f.files.length>0?((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("ul",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(f.files,((t,e)=>((0,o.wg)(),(0,o.iD)("li",{key:e},[(0,o._)("span",null,(0,i.zw)(t),1),(0,o._)("button",{onClick:e=>h.convertFile(t)},"Convert",8,a)])))),128))])])):(0,o.kq)("",!0),f.json.length>0?((0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("pre",null,[(0,o._)("code",null,(0,i.zw)(f.json),1)]),(0,o._)("button",{onClick:e[2]||(e[2]=(...t)=>h.downloadHandler&&h.downloadHandler(...t))},"Download")])):(0,o.kq)("",!0)],64)}var f=n(733),h=n.n(f),d=n(162),p=n.n(d);const g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},m=Object.fromEntries(Object.entries(g).map((([t,e])=>[e,t])));async function w(t){const e=`https://docs.google.com/spreadsheets/export?format=zip&id=${t}`,n=await fetch(e),r=await n.blob(),o=await h().loadAsync(r);return o}function v(t){const e=(new DOMParser).parseFromString(t,"text/html"),n=e.querySelectorAll("tbody > tr"),r=Array.from(n).map((t=>Array.from(t.querySelectorAll("td")).map((t=>{const e=t.innerHTML.replace(/<br>/g,"\n");return y(e)}))));return r}function y(t){const e=new RegExp(`(${Object.keys(m).join("|")})`,"g");return t.replace(e,(t=>m[t]))}function b(t,e){return t.filter((t=>{const n=t[0].startsWith(e),r=t.every((t=>0===t.trim().length));return!n&&!r}))}function j(t,e){const n={},r=t[0];for(let i=1;i<r.length;i++){let o=r[i];const l=o.startsWith(e.ignoreSymbol);if(e.excludeLang&&l)continue;l&&(o=o.substring(e.ignoreSymbol.length).trim());const s={};for(let e=1;e<t.length;e++){const n=t[e][0];s[n]=t[e][i]}n[o]=s}const o=JSON.stringify(n,null,2);return o}class O{constructor(t){this.id=t,this.options={ignoreSymbol:"#",excludeLang:!0}}update(t){this.id=t}async fetchZip(){this.zip=await w(this.id)}getFiles(){return Object.values(this.zip.files).map((t=>t.name)).filter((t=>t.endsWith(".html"))).map((t=>t.replace(".html","")))}async fromFile(t){const e=await this.zip.file(t+".html").async("string"),n=b(v(e),this.options.ignoreSymbol),r=j(n,this.options);return r}saveFile(t){const e=new Blob([t],{type:"text/plain;charset=utf-8;"}),n=Date.now(),r=(n-n%1e3)/1e3,o=`thx for using - ${r}.json`;p().saveAs(e,o)}}var _={components:{},data(){return{id:"",localizer:new O,files:[],json:""}},watch:{id(t){this.localizer.update(t)}},created(){this.localizer.update(this.id)},mounted(){const t=new URLSearchParams(window.location.search);if(t.has("id")){const e=t.get("id");this.id=e}},methods:{async fetchZip(){await this.localizer.fetchZip(),this.files=this.localizer.getFiles()},async convertFile(t){this.json=await this.localizer.fromFile(t)},downloadHandler(){this.localizer.saveFile(this.json)}},computed:{spreadsheetUrl(){return`https://docs.google.com/spreadsheets/d/${this.id}`}}},k=n(744);const z=(0,k.Z)(_,[["render",u]]);var x=z;(0,r.ri)(x).mount("#app")}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,r,o,i){if(!r){var l=1/0;for(u=0;u<t.length;u++){r=t[u][0],o=t[u][1],i=t[u][2];for(var s=!0,a=0;a<r.length;a++)(!1&i||l>=i)&&Object.keys(n.O).every((function(t){return n.O[t](r[a])}))?r.splice(a--,1):(s=!1,i<l&&(l=i));if(s){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[r,o,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,i,l=r[0],s=r[1],a=r[2],c=0;if(l.some((function(e){return 0!==t[e]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(a)var u=a(n)}for(e&&e(r);c<l.length;c++)i=l[c],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(u)},r=self["webpackChunklocalizer_tool"]=self["webpackChunklocalizer_tool"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(858)}));r=n.O(r)})();
//# sourceMappingURL=app.8f83be67.js.map