(function(e){function t(t){for(var r,o,a=t[0],u=t[1],l=t[2],f=0,p=[];f<a.length;f++)o=a[f],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&p.push(c[o][0]),c[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);s&&s(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==c[u]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},c={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/localizer-tool/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var s=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c={key:0},i={key:1};function o(e,t,n,o,a,u){return Object(r["f"])(),Object(r["c"])(r["a"],null,[Object(r["e"])("div",null,[Object(r["j"])(Object(r["e"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.id=e})},null,512),[[r["i"],a.id]])]),Object(r["e"])("div",null,[Object(r["e"])("button",{onClick:t[2]||(t[2]=function(){return u.fetchZip&&u.fetchZip.apply(u,arguments)})},"Fetch")]),Object(r["e"])("div",null,[Object(r["e"])("a",{href:u.spreadsheetUrl,target:"_blank"},Object(r["h"])(u.spreadsheetUrl),9,["href"])]),a.files.length>0?(Object(r["f"])(),Object(r["c"])("div",c,[Object(r["e"])("ul",null,[(Object(r["f"])(!0),Object(r["c"])(r["a"],null,Object(r["g"])(a.files,(function(e,t){return Object(r["f"])(),Object(r["c"])("li",{key:t},[Object(r["e"])("span",null,Object(r["h"])(e),1),Object(r["e"])("button",{onClick:function(t){return u.convertFile(e)}},"Convert",8,["onClick"])])})),128))])])):Object(r["d"])("",!0),a.json.length>0?(Object(r["f"])(),Object(r["c"])("div",i,[Object(r["e"])("pre",null,[Object(r["e"])("code",null,Object(r["h"])(a.json),1)]),Object(r["e"])("button",{onClick:t[3]||(t[3]=function(){return u.downloadHandler&&u.downloadHandler.apply(u,arguments)})},"Download")])):Object(r["d"])("",!0)],64)}var a=n("1da1"),u=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("ac1f"),n("841c"),n("d4ec")),l=n("bee2"),s=(n("d81d"),n("a630"),n("4de4"),n("2ca0"),n("498a"),n("07ac"),n("b0c0"),n("8a79"),n("5319"),n("c4e3")),f=n.n(s),p=n("21a6"),d=n.n(p);function h(e){return b.apply(this,arguments)}function b(){return b=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,c,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="https://docs.google.com/spreadsheets/export?format=zip&id=".concat(t),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.blob();case 6:return c=e.sent,e.next=9,f.a.loadAsync(c);case 9:return i=e.sent,e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function v(e){var t=(new DOMParser).parseFromString(e,"text/html"),n=t.querySelectorAll("tbody > tr"),r=Array.from(n).map((function(e){return Array.from(e.querySelectorAll("td")).map((function(e){return e.textContent}))}));return r}function j(e,t){return e.filter((function(e){var n=e[0].startsWith(t),r=e.every((function(e){return 0===e.trim().length}));return!n&&!r}))}function m(e,t){for(var n={},r=e[0],c=1;c<r.length;c++){var i=r[c],o=i.startsWith(t.ignoreSymbol);if(!t.excludeLang||!o){o&&(i=i.substring(t.ignoreSymbol.length).trim());for(var a={},u=1;u<e.length;u++){var l=e[u][0];a[l]=e[u][c]}n[i]=a}}var s=JSON.stringify(n,null,2);return s}var O=function(){function e(t){Object(u["a"])(this,e),this.id=t,this.options={ignoreSymbol:"#",excludeLang:!0}}return Object(l["a"])(e,[{key:"update",value:function(e){this.id=e}},{key:"fetchZip",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h(this.id);case 2:this.zip=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getFiles",value:function(){return Object.values(this.zip.files).map((function(e){return e.name})).filter((function(e){return e.endsWith(".html")})).map((function(e){return e.replace(".html","")}))}},{key:"fromFile",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.zip.file(t+".html").async("string");case 2:return n=e.sent,r=j(v(n),this.options.ignoreSymbol),c=m(r,this.options),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"saveFile",value:function(e){var t=new Blob([e],{type:"text/plain;charset=utf-8;"}),n=Date.now(),r=(n-n%1e3)/1e3,c="thx for using - ".concat(r,".json");d.a.saveAs(t,c)}}]),e}(),g={components:{},data:function(){return{id:"",localizer:new O,files:[],json:""}},watch:{id:function(e){this.localizer.update(e)}},created:function(){this.localizer.update(this.id)},mounted:function(){var e=new URLSearchParams(window.location.search);if(e.has("id")){var t=e.get("id");this.id=t}},methods:{fetchZip:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.localizer.fetchZip();case 2:e.files=e.localizer.getFiles();case 3:case"end":return t.stop()}}),t)})))()},convertFile:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.localizer.fromFile(e);case 2:t.json=n.sent;case 3:case"end":return n.stop()}}),n)})))()},downloadHandler:function(){this.localizer.saveFile(this.json)}},computed:{spreadsheetUrl:function(){return"https://docs.google.com/spreadsheets/d/".concat(this.id)}}},y=n("6b0d"),w=n.n(y);const x=w()(g,[["render",o]]);var k=x;Object(r["b"])(k).mount("#app")}});
//# sourceMappingURL=app.7d878ae0.js.map